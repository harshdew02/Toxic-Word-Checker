{"ast":null,"code":"import _slicedToArray from \"E:/react-detect-toxicity-in-a-chat-app-youtube-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { SparseFillEmptyRows } from '@tensorflow/tfjs-core';\nimport { sparseFillEmptyRowsImplCPU } from '../kernel_utils/shared';\nexport function sparseFillEmptyRows(args) {\n  var inputs = args.inputs,\n    backend = args.backend;\n  var indices = inputs.indices,\n    values = inputs.values,\n    denseShape = inputs.denseShape,\n    defaultValue = inputs.defaultValue;\n  if (denseShape.shape.length !== 1) {\n    throw new Error(\"Dense shape must be a vector, saw:\\n         \".concat(denseShape.shape));\n  }\n  if (indices.shape.length !== 2) {\n    throw new Error(\"Indices must be a matrix, saw:\\n         \".concat(indices.shape));\n  }\n  if (values.shape.length !== 1) {\n    throw new Error(\"Values must be a vector, saw:\\n         \".concat(values.shape));\n  }\n  if (defaultValue.shape.length !== 0) {\n    throw new Error(\"Default value must be a scalar, saw:\\n        \".concat(defaultValue.shape));\n  }\n  var $indices = backend.readSync(indices.dataId);\n  var $values = backend.readSync(values.dataId);\n  var $denseShape = backend.readSync(denseShape.dataId);\n  var $defaultValue = backend.readSync(defaultValue.dataId)[0];\n  var _sparseFillEmptyRowsI = sparseFillEmptyRowsImplCPU($indices, indices.shape, indices.dtype, $values, values.dtype, $denseShape, $defaultValue),\n    _sparseFillEmptyRowsI2 = _slicedToArray(_sparseFillEmptyRowsI, 5),\n    outputIndices = _sparseFillEmptyRowsI2[0],\n    outputIndicesShape = _sparseFillEmptyRowsI2[1],\n    outputValues = _sparseFillEmptyRowsI2[2],\n    emptyRowIndicator = _sparseFillEmptyRowsI2[3],\n    reverseIndexMap = _sparseFillEmptyRowsI2[4];\n  return [backend.makeTensorInfo(outputIndicesShape, indices.dtype, outputIndices), backend.makeTensorInfo([outputIndicesShape[0]], values.dtype, outputValues), backend.makeTensorInfo([emptyRowIndicator.length], 'bool', new Uint8Array(emptyRowIndicator.map(function (value) {\n    return Number(value);\n  }))), backend.makeTensorInfo([reverseIndexMap.length], indices.dtype, new Int32Array(reverseIndexMap))];\n}\nexport var sparseFillEmptyRowsConfig = {\n  kernelName: SparseFillEmptyRows,\n  backendName: 'webgl',\n  kernelFunc: sparseFillEmptyRows\n};","map":{"version":3,"mappings":";AAAA;;;;;;;;;;;;;;;;AAiBA,SAAkCA,mBAAmB,QAA0D,uBAAuB;AAGtI,SAAQC,0BAA0B,QAAO,wBAAwB;AAEjE,OAAM,SAAUC,mBAAmB,CAACC,IAGnC;EACC,IAAOC,MAAM,GAAaD,IAAI,CAAvBC,MAAM;IAAEC,OAAO,GAAIF,IAAI,CAAfE,OAAO;EACtB,IAAOC,OAAO,GAAsCF,MAAM,CAAnDE,OAAO;IAAEC,MAAM,GAA8BH,MAAM,CAA1CG,MAAM;IAAEC,UAAU,GAAkBJ,MAAM,CAAlCI,UAAU;IAAEC,YAAY,GAAIL,MAAM,CAAtBK,YAAY;EAChD,IAAID,UAAU,CAACE,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IACjC,MAAM,IAAIC,KAAK,wDACRJ,UAAU,CAACE,KAAK,EAAG;;EAE5B,IAAIJ,OAAO,CAACI,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IAC9B,MAAM,IAAIC,KAAK,oDACRN,OAAO,CAACI,KAAK,EAAG;;EAEzB,IAAIH,MAAM,CAACG,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IAC7B,MAAM,IAAIC,KAAK,mDACRL,MAAM,CAACG,KAAK,EAAG;;EAExB,IAAID,YAAY,CAACC,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IACnC,MAAM,IAAIC,KAAK,yDACTH,YAAY,CAACC,KAAK,EAAG;;EAG7B,IAAMG,QAAQ,GAAGR,OAAO,CAACS,QAAQ,CAACR,OAAO,CAACS,MAAM,CAAe;EAC/D,IAAMC,OAAO,GAAGX,OAAO,CAACS,QAAQ,CAACP,MAAM,CAACQ,MAAM,CAAe;EAC7D,IAAME,WAAW,GAAGZ,OAAO,CAACS,QAAQ,CAACN,UAAU,CAACO,MAAM,CAAe;EACrE,IAAMG,aAAa,GACfb,OAAO,CAACS,QAAQ,CAACL,YAAY,CAACM,MAAM,CAAC,CAAC,CAAC,CAAW;EAEtD,4BAEId,0BAA0B,CACtBY,QAAQ,EAAEP,OAAO,CAACI,KAAK,EAAEJ,OAAO,CAACa,KAAK,EAAEH,OAAO,EAAET,MAAM,CAACY,KAAK,EAC7DF,WAAW,EAAEC,aAAa,CAAC;IAAA;IAJ5BE,aAAa;IAAEC,kBAAkB;IAAEC,YAAY;IAC/CC,iBAAiB;IAAEC,eAAe;EAIzC,OAAO,CACLnB,OAAO,CAACoB,cAAc,CAACJ,kBAAkB,EAAEf,OAAO,CAACa,KAAK,EAAEC,aAAa,CAAC,EACxEf,OAAO,CAACoB,cAAc,CAClB,CAACJ,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAEd,MAAM,CAACY,KAAK,EAAEG,YAAY,CAAC,EACxDjB,OAAO,CAACoB,cAAc,CAClB,CAACF,iBAAiB,CAACZ,MAAM,CAAC,EAAE,MAAM,EAClC,IAAIe,UAAU,CACVH,iBAAiB,CAACI,GAAG,CAAC,UAACC,KAAc;IAAA,OAAKC,MAAM,CAACD,KAAK,CAAC;EAAA,EAAC,CAAC,CAAC,EAClEvB,OAAO,CAACoB,cAAc,CAClB,CAACD,eAAe,CAACb,MAAM,CAAC,EAAEL,OAAO,CAACa,KAAK,EACvC,IAAIW,UAAU,CAACN,eAAe,CAAC,CAAC,CACrC;AACH;AAEA,OAAO,IAAMO,yBAAyB,GAAiB;EACrDC,UAAU,EAAEhC,mBAAmB;EAC/BiC,WAAW,EAAE,OAAO;EACpBC,UAAU,EAAEhC;CACb","names":["SparseFillEmptyRows","sparseFillEmptyRowsImplCPU","sparseFillEmptyRows","args","inputs","backend","indices","values","denseShape","defaultValue","shape","length","Error","$indices","readSync","dataId","$values","$denseShape","$defaultValue","dtype","outputIndices","outputIndicesShape","outputValues","emptyRowIndicator","reverseIndexMap","makeTensorInfo","Uint8Array","map","value","Number","Int32Array","sparseFillEmptyRowsConfig","kernelName","backendName","kernelFunc"],"sources":["E:\\react-detect-toxicity-in-a-chat-app-youtube-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\src\\kernels\\SparseFillEmptyRows.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {KernelConfig, KernelFunc, SparseFillEmptyRows, SparseFillEmptyRowsInputs, TensorInfo, TypedArray} from '@tensorflow/tfjs-core';\n\nimport {MathBackendWebGL} from '../backend_webgl';\nimport {sparseFillEmptyRowsImplCPU} from '../kernel_utils/shared';\n\nexport function sparseFillEmptyRows(args: {\n  inputs: SparseFillEmptyRowsInputs,\n  backend: MathBackendWebGL\n}): [TensorInfo, TensorInfo, TensorInfo, TensorInfo] {\n  const {inputs, backend} = args;\n  const {indices, values, denseShape, defaultValue} = inputs;\n  if (denseShape.shape.length !== 1) {\n    throw new Error(`Dense shape must be a vector, saw:\n         ${denseShape.shape}`);\n  }\n  if (indices.shape.length !== 2) {\n    throw new Error(`Indices must be a matrix, saw:\n         ${indices.shape}`);\n  }\n  if (values.shape.length !== 1) {\n    throw new Error(`Values must be a vector, saw:\n         ${values.shape}`);\n  }\n  if (defaultValue.shape.length !== 0) {\n    throw new Error(`Default value must be a scalar, saw:\n        ${defaultValue.shape}`);\n  }\n\n  const $indices = backend.readSync(indices.dataId) as TypedArray;\n  const $values = backend.readSync(values.dataId) as TypedArray;\n  const $denseShape = backend.readSync(denseShape.dataId) as TypedArray;\n  const $defaultValue =\n      backend.readSync(defaultValue.dataId)[0] as number;\n\n  const [outputIndices, outputIndicesShape, outputValues,\n         emptyRowIndicator, reverseIndexMap] =\n      sparseFillEmptyRowsImplCPU(\n          $indices, indices.shape, indices.dtype, $values, values.dtype,\n          $denseShape, $defaultValue);\n  return [\n    backend.makeTensorInfo(outputIndicesShape, indices.dtype, outputIndices),\n    backend.makeTensorInfo(\n        [outputIndicesShape[0]], values.dtype, outputValues),\n    backend.makeTensorInfo(\n        [emptyRowIndicator.length], 'bool',\n        new Uint8Array(\n            emptyRowIndicator.map((value: boolean) => Number(value)))),\n    backend.makeTensorInfo(\n        [reverseIndexMap.length], indices.dtype,\n        new Int32Array(reverseIndexMap)),\n  ];\n}\n\nexport const sparseFillEmptyRowsConfig: KernelConfig = {\n  kernelName: SparseFillEmptyRows,\n  backendName: 'webgl',\n  kernelFunc: sparseFillEmptyRows as unknown as KernelFunc,\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}